<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Evaluating predictive models | Analytics with KNIME and R</title>
  <meta name="description" content="This is a draft." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Evaluating predictive models | Analytics with KNIME and R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Evaluating predictive models | Analytics with KNIME and R" />
  
  <meta name="twitter:description" content="This is a draft." />
  

<meta name="author" content="F Acito" />


<meta name="date" content="2021-11-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="principal-components-analytics.html"/>
<link rel="next" href="multiple-regression.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover page</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#what-is-analytics"><i class="fa fa-check"></i><b>1.1</b> What is analytics?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#some-trends-in-analytics"><i class="fa fa-check"></i><b>1.2</b> Some trends in analytics</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#broadening-of-application-areas"><i class="fa fa-check"></i><b>1.2.1</b> Broadening of application areas</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#generalization-of-the-notion-of-data"><i class="fa fa-check"></i><b>1.2.2</b> Generalization of the notion of data</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#a-trend-from-slicing-and-dicing-data-to-more-advanced-techniques"><i class="fa fa-check"></i><b>1.2.3</b> A trend from “slicing and dicing” data to more advanced techniques</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#more-advanced-data-visualization"><i class="fa fa-check"></i><b>1.2.4</b> More advanced data visualization</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#the-analytics-process-model"><i class="fa fa-check"></i><b>1.3</b> The analytics process model</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html"><i class="fa fa-check"></i><b>2</b> Business understanding and problem definition</a>
<ul>
<li class="chapter" data-level="2.1" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#expert-views"><i class="fa fa-check"></i><b>2.1</b> Expert views</a></li>
<li class="chapter" data-level="2.2" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#understanding-the-business"><i class="fa fa-check"></i><b>2.2</b> Understanding the business</a></li>
<li class="chapter" data-level="2.3" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#identifying-stakeholders"><i class="fa fa-check"></i><b>2.3</b> Identifying stakeholders</a></li>
<li class="chapter" data-level="2.4" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#structured-versus-unstructured-problems"><i class="fa fa-check"></i><b>2.4</b> Structured versus unstructured problems</a></li>
<li class="chapter" data-level="2.5" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#framing-the-problem"><i class="fa fa-check"></i><b>2.5</b> Framing the problem</a></li>
<li class="chapter" data-level="2.6" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#summary"><i class="fa fa-check"></i><b>2.6</b> Summary</a></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#appendix-some-tools-for-problem-definition"><i class="fa fa-check"></i>Appendix: Some tools for problem definition</a>
<ul>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#right-to-left-thinking"><i class="fa fa-check"></i>Right to left thinking</a></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#reversing-the-problem"><i class="fa fa-check"></i>Reversing the problem</a></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#open-the-problem-with-whys"><i class="fa fa-check"></i>Open the problem with “whys”</a></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#challenge-assumptions"><i class="fa fa-check"></i>Challenge assumptions</a></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#chunking"><i class="fa fa-check"></i>Chunking</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="business-understanding-and-problem-definition.html"><a href="business-understanding-and-problem-definition.html#problems"><i class="fa fa-check"></i>Problems</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html"><i class="fa fa-check"></i><b>3</b> Introduction to KNIME</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#the-knime-workbench"><i class="fa fa-check"></i><b>3.1</b> The KNIME Workbench</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#elements-of-the-knime-workbench"><i class="fa fa-check"></i><b>3.1.1</b> Elements of the KNIME Workbench</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#learning-to-use-knime"><i class="fa fa-check"></i><b>3.2</b> Learning to use KNIME</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#knime-extensions-and-integrations"><i class="fa fa-check"></i><b>3.3</b> KNIME extensions and integrations</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#knime-workflow-example-1-predicting-heart-disease"><i class="fa fa-check"></i><b>3.4</b> KNIME workflow example #1: Predicting heart disease</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#knime-workflow-example-2-preparation-of-hospital-data"><i class="fa fa-check"></i><b>3.5</b> KNIME workflow example #2: Preparation of hospital data</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#summary-1"><i class="fa fa-check"></i><b>3.6</b> Summary</a></li>
<li class="chapter" data-level="" data-path="introduction-to-knime.html"><a href="introduction-to-knime.html#problems-1"><i class="fa fa-check"></i>Problems</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-preparation.html"><a href="data-preparation.html"><i class="fa fa-check"></i><b>4</b> Data preparation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-preparation.html"><a href="data-preparation.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="data-preparation.html"><a href="data-preparation.html#obtaining-the-needed-data"><i class="fa fa-check"></i><b>4.2</b> Obtaining the needed data</a></li>
<li class="chapter" data-level="4.3" data-path="data-preparation.html"><a href="data-preparation.html#data-cleaning"><i class="fa fa-check"></i><b>4.3</b> Data cleaning</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-preparation.html"><a href="data-preparation.html#missing-values"><i class="fa fa-check"></i><b>4.3.1</b> Missing values</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-preparation.html"><a href="data-preparation.html#outliers"><i class="fa fa-check"></i><b>4.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-preparation.html"><a href="data-preparation.html#feature-engineering"><i class="fa fa-check"></i><b>4.4</b> Feature engineering</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-preparation.html"><a href="data-preparation.html#data-transformations"><i class="fa fa-check"></i><b>4.4.1</b> Data transformations</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-preparation.html"><a href="data-preparation.html#data-exploration"><i class="fa fa-check"></i><b>4.4.2</b> Data exploration</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="principal-components-analytics.html"><a href="principal-components-analytics.html"><i class="fa fa-check"></i><b>5</b> Principal components analytics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="principal-components-analytics.html"><a href="principal-components-analytics.html#approaches-to-dimension-reduction"><i class="fa fa-check"></i><b>5.1</b> Approaches to dimension reduction</a></li>
<li class="chapter" data-level="5.2" data-path="principal-components-analytics.html"><a href="principal-components-analytics.html#description"><i class="fa fa-check"></i><b>5.2</b> Description</a></li>
<li class="chapter" data-level="5.3" data-path="principal-components-analytics.html"><a href="principal-components-analytics.html#the-pca-model"><i class="fa fa-check"></i><b>5.3</b> The PCA model</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html"><i class="fa fa-check"></i><b>6</b> Evaluating predictive models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html#introduction-1"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html#training-testing-and-validation-samples"><i class="fa fa-check"></i><b>6.2</b> Training, Testing, and Validation samples</a></li>
<li class="chapter" data-level="6.3" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html#evaluating-continuous-versus-discrete-targets"><i class="fa fa-check"></i><b>6.3</b> Evaluating continuous versus discrete targets</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html#evaluating-performance-with-continuous-targets"><i class="fa fa-check"></i><b>6.3.1</b> Evaluating performance with continuous targets</a></li>
<li class="chapter" data-level="6.3.2" data-path="evaluating-predictive-models.html"><a href="evaluating-predictive-models.html#evaluating-performance-with-classification-models"><i class="fa fa-check"></i><b>6.3.2</b> Evaluating performance with classification models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>7</b> Multiple regression</a>
<ul>
<li class="chapter" data-level="7.1" data-path="multiple-regression.html"><a href="multiple-regression.html#introduction-2"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="multiple-regression.html"><a href="multiple-regression.html#regression-techniques"><i class="fa fa-check"></i><b>7.2</b> Regression techniques</a></li>
<li class="chapter" data-level="7.3" data-path="multiple-regression.html"><a href="multiple-regression.html#regression-for-explanation"><i class="fa fa-check"></i><b>7.3</b> Regression for explanation</a></li>
<li class="chapter" data-level="7.4" data-path="multiple-regression.html"><a href="multiple-regression.html#regression-for-prediction"><i class="fa fa-check"></i><b>7.4</b> Regression for prediction</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="multiple-regression.html"><a href="multiple-regression.html#revisiting-regression-assumptions"><i class="fa fa-check"></i><b>7.4.1</b> Revisiting regression assumptions</a></li>
<li class="chapter" data-level="7.4.2" data-path="multiple-regression.html"><a href="multiple-regression.html#prediction-example-used-toyota-corollas"><i class="fa fa-check"></i><b>7.4.2</b> Prediction example: Used Toyota Corollas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#appendix-a-brief-history-of-regression"><i class="fa fa-check"></i>Appendix: A brief history of regression</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#problems-2"><i class="fa fa-check"></i>Problems</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>8</b> Logistic regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="logistic-regression.html"><a href="logistic-regression.html#example-with-a-single-predictor"><i class="fa fa-check"></i><b>8.1</b> Example with a single predictor</a></li>
<li class="chapter" data-level="8.2" data-path="logistic-regression.html"><a href="logistic-regression.html#example-predictive-analytic-in-hr"><i class="fa fa-check"></i><b>8.2</b> Example: Predictive analytic in HR</a></li>
<li class="chapter" data-level="8.3" data-path="logistic-regression.html"><a href="logistic-regression.html#predictor-interpretation-and-importance"><i class="fa fa-check"></i><b>8.3</b> Predictor interpretation and importance</a></li>
<li class="chapter" data-level="8.4" data-path="logistic-regression.html"><a href="logistic-regression.html#regularized-logistic-regression"><i class="fa fa-check"></i><b>8.4</b> Regularized logistic regression</a></li>
<li class="chapter" data-level="8.5" data-path="logistic-regression.html"><a href="logistic-regression.html#probability-calibration"><i class="fa fa-check"></i><b>8.5</b> Probability calibration</a></li>
<li class="chapter" data-level="8.6" data-path="logistic-regression.html"><a href="logistic-regression.html#evaluation-of-logistic-regression"><i class="fa fa-check"></i><b>8.6</b> Evaluation of logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ensemble-models.html"><a href="ensemble-models.html"><i class="fa fa-check"></i><b>9</b> Ensemble models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ensemble-models.html"><a href="ensemble-models.html#creating-ensemble-models"><i class="fa fa-check"></i><b>9.1</b> Creating ensemble models</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ensemble-models.html"><a href="ensemble-models.html#reduced-variation"><i class="fa fa-check"></i><b>9.1.1</b> Reduced variation</a></li>
<li class="chapter" data-level="9.1.2" data-path="ensemble-models.html"><a href="ensemble-models.html#improved-performance"><i class="fa fa-check"></i><b>9.1.2</b> Improved performance</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ensemble-models.html"><a href="ensemble-models.html#parallel-and-sequential-learners"><i class="fa fa-check"></i><b>9.2</b> Parallel and sequential learners</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="ensemble-models.html"><a href="ensemble-models.html#bagging-bootstrap-aggregating"><i class="fa fa-check"></i><b>9.2.1</b> Bagging (Bootstrap Aggregating)</a></li>
<li class="chapter" data-level="9.2.2" data-path="ensemble-models.html"><a href="ensemble-models.html#random-forests"><i class="fa fa-check"></i><b>9.2.2</b> Random Forests</a></li>
<li class="chapter" data-level="9.2.3" data-path="ensemble-models.html"><a href="ensemble-models.html#adaboost"><i class="fa fa-check"></i><b>9.2.3</b> AdaBoost</a></li>
<li class="chapter" data-level="9.2.4" data-path="ensemble-models.html"><a href="ensemble-models.html#gradient-boosting-machines"><i class="fa fa-check"></i><b>9.2.4</b> Gradient Boosting Machines</a></li>
<li class="chapter" data-level="9.2.5" data-path="ensemble-models.html"><a href="ensemble-models.html#xgboost"><i class="fa fa-check"></i><b>9.2.5</b> XGBoost</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ensemble-models.html"><a href="ensemble-models.html#example-of-ensemble-modeling-for-a-continuous-target"><i class="fa fa-check"></i><b>9.3</b> Example of ensemble modeling for a continuous target</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="naive-bayes.html"><a href="naive-bayes.html"><i class="fa fa-check"></i><b>10</b> Naive Bayes</a>
<ul>
<li class="chapter" data-level="10.1" data-path="naive-bayes.html"><a href="naive-bayes.html#a-thought-problem"><i class="fa fa-check"></i><b>10.1</b> A thought problem</a></li>
<li class="chapter" data-level="10.2" data-path="naive-bayes.html"><a href="naive-bayes.html#bayes-theorem-applied-to-predictive-analytics"><i class="fa fa-check"></i><b>10.2</b> Bayes Theorem applied to predictive analytics</a></li>
<li class="chapter" data-level="10.3" data-path="naive-bayes.html"><a href="naive-bayes.html#illustration-of-naïve-bayes-with-a-toy-data-set"><i class="fa fa-check"></i><b>10.3</b> Illustration of Naïve Bayes with a “toy” data set</a></li>
<li class="chapter" data-level="10.4" data-path="naive-bayes.html"><a href="naive-bayes.html#the-assumption-of-conditional-independence"><i class="fa fa-check"></i><b>10.4</b> The assumption of conditional independence</a></li>
<li class="chapter" data-level="10.5" data-path="naive-bayes.html"><a href="naive-bayes.html#naïve-bayes-with-continuous-predictors"><i class="fa fa-check"></i><b>10.5</b> Naïve Bayes with continuous predictors</a></li>
<li class="chapter" data-level="10.6" data-path="naive-bayes.html"><a href="naive-bayes.html#laplace-smoothing"><i class="fa fa-check"></i><b>10.6</b> Laplace Smoothing</a></li>
<li class="chapter" data-level="10.7" data-path="naive-bayes.html"><a href="naive-bayes.html#example-using-naïve-bayes-with-churn-data"><i class="fa fa-check"></i><b>10.7</b> Example using naïve Bayes with churn data</a></li>
<li class="chapter" data-level="10.8" data-path="naive-bayes.html"><a href="naive-bayes.html#spam-detection-using-naïve-bayes"><i class="fa fa-check"></i><b>10.8</b> Spam detection using naïve Bayes</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="deep-learning.html"><a href="deep-learning.html"><i class="fa fa-check"></i><b>11</b> Deep learning</a></li>
<li class="chapter" data-level="12" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html"><i class="fa fa-check"></i><b>12</b> k Nearest Neighbors</a>
<ul>
<li class="chapter" data-level="12.1" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#k-nearest-neighbors-and-memory-based-learning"><i class="fa fa-check"></i><b>12.1</b> k nearest neighbors and memory-based learning</a></li>
<li class="chapter" data-level="12.2" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#typical-applications"><i class="fa fa-check"></i><b>12.2</b> Typical applications</a></li>
<li class="chapter" data-level="12.3" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#what-is-knn"><i class="fa fa-check"></i><b>12.3</b> What is kNN?</a></li>
<li class="chapter" data-level="12.4" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#a-two-dimensional-graphic-example-of-knn"><i class="fa fa-check"></i><b>12.4</b> A two-dimensional graphic example of kNN</a></li>
<li class="chapter" data-level="12.5" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#example-of-knn-diagnosing-heart-disease"><i class="fa fa-check"></i><b>12.5</b> Example of kNN: Diagnosing heart disease</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#results"><i class="fa fa-check"></i><b>12.5.1</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#knn-for-continuous-targets"><i class="fa fa-check"></i><b>12.6</b> kNN for continuous targets</a></li>
<li class="chapter" data-level="12.7" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#knn-for-multiclass-target-variables"><i class="fa fa-check"></i><b>12.7</b> kNN for multiclass target variables</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tree-models.html"><a href="tree-models.html"><i class="fa fa-check"></i><b>13</b> Tree models</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tree-models.html"><a href="tree-models.html#classification-trees"><i class="fa fa-check"></i><b>13.1</b> Classification trees</a></li>
<li class="chapter" data-level="13.2" data-path="tree-models.html"><a href="tree-models.html#forming-classification-trees"><i class="fa fa-check"></i><b>13.2</b> Forming classification trees</a></li>
<li class="chapter" data-level="13.3" data-path="tree-models.html"><a href="tree-models.html#varieties-of-classification-tree-algorithms"><i class="fa fa-check"></i><b>13.3</b> Varieties of classification tree algorithms</a></li>
<li class="chapter" data-level="13.4" data-path="tree-models.html"><a href="tree-models.html#criteria-for-splitting-and-growing-a-tree"><i class="fa fa-check"></i><b>13.4</b> Criteria for splitting and growing a tree</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="tree-models.html"><a href="tree-models.html#the-gini-index"><i class="fa fa-check"></i><b>13.4.1</b> The Gini index</a></li>
<li class="chapter" data-level="13.4.2" data-path="tree-models.html"><a href="tree-models.html#information-gain"><i class="fa fa-check"></i><b>13.4.2</b> Information Gain</a></li>
<li class="chapter" data-level="13.4.3" data-path="tree-models.html"><a href="tree-models.html#chi-square-as-a-splitting-criterion"><i class="fa fa-check"></i><b>13.4.3</b> Chi-square as a splitting criterion</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="tree-models.html"><a href="tree-models.html#overfitting"><i class="fa fa-check"></i><b>13.5</b> Overfitting</a></li>
<li class="chapter" data-level="13.6" data-path="tree-models.html"><a href="tree-models.html#example-of-a-classification-tree"><i class="fa fa-check"></i><b>13.6</b> Example of a classification tree</a></li>
<li class="chapter" data-level="13.7" data-path="tree-models.html"><a href="tree-models.html#regression-trees"><i class="fa fa-check"></i><b>13.7</b> Regression trees</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="tree-models.html"><a href="tree-models.html#how-regression-trees-work"><i class="fa fa-check"></i><b>13.7.1</b> How regression trees work</a></li>
<li class="chapter" data-level="13.7.2" data-path="tree-models.html"><a href="tree-models.html#example-predicting-home-prices"><i class="fa fa-check"></i><b>13.7.2</b> Example: Predicting home prices</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="tree-models.html"><a href="tree-models.html#strengths-and-weaknesses"><i class="fa fa-check"></i><b>13.8</b> Strengths and weaknesses</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="neural-networks.html"><a href="neural-networks.html"><i class="fa fa-check"></i><b>14</b> Neural networks</a>
<ul>
<li class="chapter" data-level="14.1" data-path="neural-networks.html"><a href="neural-networks.html#what-are-artificial-neural-networks"><i class="fa fa-check"></i><b>14.1</b> What are artificial neural networks?</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="neural-networks.html"><a href="neural-networks.html#human-neurons-to-mathematical-models"><i class="fa fa-check"></i><b>14.1.1</b> Human neurons to mathematical models</a></li>
<li class="chapter" data-level="14.1.2" data-path="neural-networks.html"><a href="neural-networks.html#activation-functions"><i class="fa fa-check"></i><b>14.1.2</b> Activation functions</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="neural-networks.html"><a href="neural-networks.html#the-road-to-machine-learning-with-neural-nets"><i class="fa fa-check"></i><b>14.2</b> The road to machine learning with neural nets</a></li>
<li class="chapter" data-level="14.3" data-path="neural-networks.html"><a href="neural-networks.html#example-of-a-neural-network"><i class="fa fa-check"></i><b>14.3</b> Example of a neural network</a></li>
<li class="chapter" data-level="14.4" data-path="neural-networks.html"><a href="neural-networks.html#training-a-neural-net"><i class="fa fa-check"></i><b>14.4</b> Training a neural net</a></li>
<li class="chapter" data-level="14.5" data-path="neural-networks.html"><a href="neural-networks.html#considerations-in-using-neural-nets"><i class="fa fa-check"></i><b>14.5</b> Considerations in using neural nets</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="neural-networks.html"><a href="neural-networks.html#missing-data"><i class="fa fa-check"></i><b>14.5.1</b> Missing data</a></li>
<li class="chapter" data-level="14.5.2" data-path="neural-networks.html"><a href="neural-networks.html#representative-data"><i class="fa fa-check"></i><b>14.5.2</b> Representative data</a></li>
<li class="chapter" data-level="14.5.3" data-path="neural-networks.html"><a href="neural-networks.html#all-eventualities-must-be-covered"><i class="fa fa-check"></i><b>14.5.3</b> All eventualities must be covered</a></li>
<li class="chapter" data-level="14.5.4" data-path="neural-networks.html"><a href="neural-networks.html#unbalanced-data-sets"><i class="fa fa-check"></i><b>14.5.4</b> Unbalanced data sets</a></li>
<li class="chapter" data-level="14.5.5" data-path="neural-networks.html"><a href="neural-networks.html#the-overfitting-problem"><i class="fa fa-check"></i><b>14.5.5</b> The overfitting problem</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="neural-networks.html"><a href="neural-networks.html#neural-network-example"><i class="fa fa-check"></i><b>14.6</b> Neural network example</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="cluster-analysis.html"><a href="cluster-analysis.html"><i class="fa fa-check"></i><b>15</b> Cluster analysis</a>
<ul>
<li class="chapter" data-level="15.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#approaches-to-forming-clusters"><i class="fa fa-check"></i><b>15.1</b> Approaches to forming clusters</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#hierarchical-versus-partitioning-methods"><i class="fa fa-check"></i><b>15.1.1</b> Hierarchical versus partitioning methods</a></li>
<li class="chapter" data-level="15.1.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#hard-versus-soft-methods"><i class="fa fa-check"></i><b>15.1.2</b> “Hard” versus “soft” methods</a></li>
<li class="chapter" data-level="15.1.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#applying-hierarchical-clusters"><i class="fa fa-check"></i><b>15.1.3</b> Applying hierarchical clusters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analytics with KNIME and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="evaluating-predictive-models" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Evaluating predictive models</h1>
<div class="insetNoBorder">
<p>In this chapter various metrics for evaluating predictive models, both for discrete targets and continuous targets are discussed. The content here will be used throughout the remainder of the text as different algorithms are presented.</p>
</div>
<div id="introduction-1" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Introduction</h2>
<p>In predictive analytics applications it is common practice to try multiple different models to assess predictions using a training sample and then to select the best of model in terms of some criterion.</p>
<p>There are, however, many things that can go wrong. The data may be bad, the underlying model used may be wrong, or the right predictors have not been included. This can result in false positives and false negatives in binary classification models. One of the outcomes is usually the one we’re concerned with or the one with a favorable result. If the model accurately predicts this outcome, then it’s a true positive. If the model accurately predicts the outcome we are not interested in, then it’s a true negative.</p>
<p>While looking at many different models is normally frowned upon in statistics, with large data sets where prediction is the objective, it is common practice.</p>
<p>Even if a single model is used, such as logistic regression, there are different formulations to be tried, e.g., different predictor variables, different transformations of the predictors, and so on.</p>
<p>Because of the practice of trying different models, we need a means to compare the models.</p>
</div>
<div id="training-testing-and-validation-samples" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Training, Testing, and Validation samples</h2>
<p>Since the process of building a predictive model usually involves trying several (or many) different models to determine which performs best on a given data set, it is important to have a separate data set that was not used to build the model.</p>
<p>The strategy for validating a predictive model depends on the number of observations available. The question is whether to create two subsets (training and validation) or three (training, testing, and validation). There should be a sufficient number of observations such that a training set can be created with at least 50 - 100 observations per predictor variable being considered. If the data set has enough observations, then a common approach is to create three subsets: training, test, and validation.<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a></p>
<p>A model is created using the training set. Then, the performance of the model is assessed using the test set. If the model doesn’t perform well with the test set, the process returns to the training subset and retrained using different settings on the algorithm or a totally different algorithm. different different models or setting assumptions or different techniques. This process may be repeated several times.</p>
<p>The relative proportions for the three subsets is somewhat arbitrary, but typical ratios are 60/20/20, 50/30/20, 50/25/25 for the training, test, and validation sets respectively.</p>
<p>KNIME and other software tools provide convenient ways to construct training, testing, and validation sets. These subsets are created via a random sampling process as a way of avoiding bias.</p>
<p>One approach where the number of observations is limited is to create just training and validation sets. There is no firm rule for what the split should be, but typical ratios are 50/50, 60/40, 70/30, 80/20 for training and validation sets respectively. However, with only two subsets of data, using the validation set to inform the model building process will not provide a proper test of the ability of the model to predict new data. As example, some procedures, such as stepwise regression, use the validation set to evaluate the accuracy of each iteration.</p>
<p>Where only two subsets are used, the validation be held separate from the model building process. When a final model has been developed, the validation set can be used to evaluate performance on “new” data. Testing can be done using only the training data via k-fold validation.</p>
<p>With k-fold performance assessment, the training data is randomly divided into k groups, where k is typically five or ten. The analysis is run k times, with each of the k subsets assigned to the role of test data and the remaining data used to build the model. The goal is to create a model that will perform on unseen data, which is held out in the validation set.</p>
<p>The process is illustrated in Figure <a href="evaluating-predictive-models.html#fig:Kfoldimage">6.1</a> for k = 5. The training data is randomly divided into five equally sized subsets. Then, the first subset is held out and the remaining four subsets used to build a model. The model is assessed on the held out first subset. This process is repeated five times. The model performance is then averaged across the five iterations.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Kfoldimage"></span>
<img src="images_evaluation/Kfold.PNG" alt="K-fold validation." width="50%" style="background-color: #9ecff7; padding:1px; display: inline-block;" />
<p class="caption">
Figure 6.1: K-fold validation.
</p>
</div>
<p>KNIME and other software tools provide convenient ways to construct training, testing, and validation sets. These subsets are created via a random sampling process as a way of avoiding bias. KNIME also has nodes to perform k-fold validation.</p>
</div>
<div id="evaluating-continuous-versus-discrete-targets" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Evaluating continuous versus discrete targets</h2>
<p>There are two main types of supervised models for which evaluation measures are needed. First, prediction models involve continuous dependent or target variables. This is the case typically with multiple regression, although there are other techniques which make predictions of continuous variables as well.</p>
<p>The second main type is performance evaluation for classification. which involves assignment of case to a group. The second main type is performance evaluation for classification, which involves assignment of case to a group.</p>
<div id="evaluating-performance-with-continuous-targets" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Evaluating performance with continuous targets</h3>
<p>The objective is to find out how well the model predicts new data. So, prediction metrics should be computed on a new data set, e.g., the validation and/or test set or with k-fold validation methods. Sometimes it is useful to compare the performance with the training data with the holdout or new data to assess whether the model overfit the training data.</p>
<p>Typical measures used to evaluate continuous targets are listed below where y contains the actual target values and <span class="math inline">\(\hat{y}\)</span> contains is the predicted values using the validation data.</p>
<p><em>R-squared</em></p>
<p>${R}^2 can be interpreted as the variance “explained” by a model. As such, the value ranges between 0 and 1.0. ${R}^2 is probably the most familiar measure for continuous targets because of its use in multiple regression.</p>
<p>The formula for ${R}^2 is:</p>
<p><span class="math display">\[\begin{equation}
  {R}^{2} = 1 - 
\frac { \sum_{i=1}^{n} (\ y_i -\hat{y_i} )^{2} }
      {   \sum_{i=1}^{n} (\ y_i -\bar{y_i} )^{2}                           }
\end{equation}\]</span></p>
<p><em>MAE</em></p>
<p>The mean absolute error is measured in the same units as the data. Because it does not square the errors, as with other measures, it is less sensitive to the occasional very large errors.</p>
<p>The formula for MAE is:</p>
<p><span class="math display" id="eq:MAE">\[\begin{equation}
   MAE =  \frac{1}{n} \sum_{i=1}^{n} |{y_i}-\hat{y_i}|
\tag{6.1}    
\end{equation}\]</span></p>
<p><em>MAPE</em></p>
<p>The MAPE, or mean absolute percent error, is one of the more attractive measures because the report as a percentage makes intuitive sense. However, it has some limitations. First of all, if any of the actual values are zero, then the error becomes apparently infinite because there would be division by zero. Second, it has been found to favor models that are systematically predicting values that are too low rather than too high. That’s because for estimates that are too low, the percentage error cannot exceed 100%. But for predictions that are too high, there is no upper limit to the percentage error. Finally, if there are both positive and negative values in the estimates, MAPE should not be used.</p>
<p>The formula for MAPE is:</p>
<p><span class="math display" id="eq:MAPE">\[\begin{equation}
MAPE = \frac{1}{n} \sum_{i=1}^{n} {\left|\frac{{y_i}-\hat{y_i}}{y_i}\right|} 
 \tag{6.2}    
\end{equation}\]</span></p>
<p><em>RMSE</em></p>
<p>This is the square root of the mean of the squared error. This metric captures how far the predicted values are from the actual values in the same units are the target variable.
One issue with the root mean squared error is that it is affected more by the occasional large error than MAE or MAPE because of the squaring of errors. Whether this is a problem or not depends to some extent on the cost or seriousness of large errors in the situation being modeled. If the costs are roughly linear with respect to the error, then the statistic might not be the best one to use.</p>
<p>The formula for RMSE is:</p>
<p><span class="math display" id="eq:RMSE">\[\begin{equation}
   RMSE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} ({y_i}-\hat{y_i}){^2}}
\tag{6.3}  
\end{equation}\]</span></p>
</div>
<div id="evaluating-performance-with-classification-models" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Evaluating performance with classification models</h3>
<p>This discussion is focused on assessing performance where the target variable takes on two nominal levels (i.e., binary). The binary case is not the only situation that might be encountered, however. In some cases where the target has three or more categorical levels, the assessment can be reduced to binary for evaluation purposes. This is done by selecting one of multiple levels as the positive or 1 level and assigning the rest of the levels to the negative or 0 level.</p>
<p>The basic structure for evaluating binary models is the contingency table or classification matrix (sometimes called the confusion matrix). It is a two by two table with the actual classifications on the rows and the predicted classifications on the columns.<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a></p>
<div id="x-2-classification-matrix" class="section level4 unnumbered">
<h4>2 X 2 Classification Matrix</h4>
<p>Figure <a href="evaluating-predictive-models.html#fig:classificationMatrix">6.2</a> shows a general two by two contingency table with the actual in the rows and the predicted in the columns. The predictions can be either positive or negative; these can be thought of as buy or not buy, try or not try, churn or not churn in the case of telecommunications, error or not an error, or even fraudulent or not fraudulent.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:classificationMatrix"></span>
<img src="images_evaluation/ClassificationMatrix.PNG" alt="A labeled 2 X 2 table." width="60%" style="background-color: black; padding:1px; display: inline-block;" />
<p class="caption">
Figure 6.2: A labeled 2 X 2 table.
</p>
</div>
<p>Each of the cells can be labeled as True Positive and True Negative (correct) or false positive and false negative (incorrect). To begin the evaluation, the “naive rule” can be used as basic benchmark. This rule classifies all records as belonging to the most prevalent actual level. The hope is that the model will perform better than the naive model.</p>
<p>There are several measures that are frequently used to assess model performance using a 2 X 2 table. These are:</p>
<ol style="list-style-type: decimal">
<li><em>Accuracy</em> = (True positive + True negative) / Total cases; this is also known as the “fraction correct.”</li>
<li><em>Sensitivity</em> = (True positive) / (True positive + False negative); this is also known as “recall,” “hit rate,” or the “true positive rate.”</li>
<li><em>Specificity</em> = (True negative) / ( True negative + False positive); this is also known as “true negative rate.”</li>
<li><em>Precision</em>= (True positive) / (True positive + False positive); this is also known as “positive predictive value.”</li>
<li><em>Negative predictive value</em> = (True negative) / (True negative + False negative).</li>
<li><em>F-score</em> = 2 /[(sensitivity<sup>-1</sup>) + (precision<sup>-1</sup>)]</li>
</ol>
<p>It is important to select a metric appropriate to the situation being modeled. Accuracy is a good measure when the number of false positives and false negatives are approximately equal and the cost or seriousness of false positives and false negatives are similar.</p>
<p>Consider the hypothetical data results shown in Figure <a href="evaluating-predictive-models.html#fig:SPAMvsCovid">6.3</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:SPAMvsCovid"></span>
<img src="images_evaluation/SPAMvsCovid.PNG" alt="Evaluation metrics for two situations." width="80%" style="background-color: black; padding:1px; display: inline-block;" />
<p class="caption">
Figure 6.3: Evaluation metrics for two situations.
</p>
</div>
<p>The results on the left are for two different models for testing for Covid-19. The results on the right are for two models for SPAM detection. All four of the 2 X 2 tables have the same accuracy, yet the models are not equally favorable. Accuracy is not a good measure for these two situations since the consequences of false positives and false negatives are not the same.</p>
<p>For the Covid tests model 1 is preferred to model 2 because only 10 actual Covid cases were mistakenly classified as Not Covid. Sensitivity (0.998) is the best measure of performance since it is arguably more important to avoid classifying cases with Covid as not having Covid. If a person without Covid is classified as having Covid, this of course causes stress on the individual, but this can be remedied by conducting further tests.</p>
<p>On the other hand, for the SPAM tests the best metric is Precision and model 2 has the higher precision (0.998). Classifying cases where SPAM exists as not being SPAM is more important than filtering messages that are Not SPAM as SPAM. In the latter case, critical messages might never be seen by the email user.</p>
<p>In general, if false positives are not as serious as false negatives, sensitivity is a good metric. If false positive are more serious than false negatives, precision is a good metric.</p>
</div>
<div id="evaluating-models-with-class-imbalance" class="section level4" number="6.3.2.1">
<h4><span class="header-section-number">6.3.2.1</span> Evaluating models with class imbalance</h4>
<p>There are situations where the outcome of interest in a binary prediction model occurs infrequently. This causes an imbalance in the outcomes. For example, say we are developing a model to predict fraud and we have 50,000 cases where only 500 cases are fraudulent and 49,500 are not.</p>
<p>There are many domains where imbalance occurs, including:</p>
<ul>
<li>Churn prediction at telecoms most users do not churn.</li>
<li>Predicting insurance fraud - most claims are not fraudulent.</li>
<li>Diagnoses of rare medical conditions</li>
<li>Online advertising click-through rates - most viewers will not click.</li>
<li>Pharmaceutical research - most potential modules useful for further development.</li>
</ul>
<p>Many classification models will not handle this situation very well. One likely outcome in such situations is that the model will simply predict all cases to not be fraudulent. After all, for the example cited, if all 50,000 cases are classified as non-fraudulent, then accuracy equals 49,500/50,000 or 99%. accuracy!</p>
<p>There are several ways to handle situations of severe class imbalance. One way is to use stratified sampling on the training set to force a balance in the two outcomes. In the case of the fraudulent data case, assume a training set of 40,000 cases and a validation set of 10,000 cases are formed stratified by the presence of fraud. In the training sample, it is expected that there will be 400 cases of fraud in the training set and 39,600 cases with non-fraud. A random sample of 400 is taken from the 39,600 non-fraud cases. This creates a balanced data set with 400 cases each of fraud and non-fraud.</p>
<p>A model is then created using the balanced data set. The evaluation metrics from this model are not very useful, however. Instead, the model should then be applied to the 10,000 cases in the validation set and then evaluation metrics computed. A disadvantage of this approach is that most of the cases in the training set are not used to create the model.</p>
<p>Another approach is to oversample the rare cases in the data set. In the training data set in the fraud situation, the 400 fraud cases are repeatedly copied 99 times so that there are 39,600 cases of fraud and non-fraud in the set. The validation set is left alone. A more sophisticated approach is to oversample using similar cases. Using the characteristics of each case that is in the minority, a set of similar cases is selected. This is implemented in the R package smotefamily <span class="citation">(<a href="#ref-smotefamily" role="doc-biblioref">SMOTE 2019</a>)</span> and the SMOTE node in KNIME.</p>
<p>Other approaches to dealing with imbalance include the following.</p>
<ul>
<li>Lower the cutoff to increase the number of predictions of the minority class.</li>
<li>Adjust the prior probabilities (e.g., in naïve Bayes or discriminant analysis).</li>
<li>Weight the minority class more heavily, where case weighting is available in the algorithm; this is essentially like oversampling.</li>
<li>Use costs to differentially weight specific types of errors.</li>
</ul>
<p>Examples of using some of the these approaches will be discussed in the chapters on classification prediction models.</p>
</div>
<div id="roc-curves" class="section level4" number="6.3.2.2">
<h4><span class="header-section-number">6.3.2.2</span> ROC curves</h4>
<p>Another useful method for assessing the accuracy of predictive binary classification models is the ROC (receiver operating characteristic) curve. ROC curves show the tradeoff between sensitivity and (1-specificity) or the tradeoff between the true positive rate and the false positive rate for a predictive model. These curves are especially useful in comparing the performance of two or more models.</p>
<p>The ROC curve in Figure <a href="evaluating-predictive-models.html#fig:GenericROCcurve">6.4</a> shows the line of random performance in red. The blue line represents a model that achieves much better than random performance. The curve is generated by varying the cutoff threshold for assigning cases to one of the binary outcomes and computing the Sensitivity and 1 - Specificity and plotting the values. The cutoffs for 0.0 to 1.0 which result in the curve are shown in the figure. The closer the ROC curve is to the upper left corner (1.0, 1.0), the more accurate the model.</p>
<p>A measure of the quality of the model is the area under the curve or AUC, which in this case is approximately 0.72. The maximum possible area for a model that predicts perfectly is 1.0; the area under the red line for a model that only predicts randomly line is 0.50.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:GenericROCcurve"></span>
<img src="images_evaluation/GenericROCcurve.PNG" alt="Example of an ROC curve." width="55%" style="background-color: black; padding:1px; display: inline-block;" />
<p class="caption">
Figure 6.4: Example of an ROC curve.
</p>
</div>
<p>The concept of a tradeoff between true positives and false positives in a 2 X 2 table is illustrated in Figure <a href="evaluating-predictive-models.html#fig:comparisonROCcurves">6.5</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:comparisonROCcurves"></span>
<img src="images_evaluation/comparisonROCcurves.PNG" alt="Tradeoff between true positives and false positives." width="100%" style="background-color: black; padding:1px; display: inline-block;" />
<p class="caption">
Figure 6.5: Tradeoff between true positives and false positives.
</p>
</div>
<p>If a threshold or cutoff is selected that achieves .85 true positives (in the chart on the left), then the model represented by the blue line will result in about .45 false positives. To lower the percentage of false positives to about .20 (in the chart in the center), the tradeoff shows that true positives are identified only about .65 of the time. The only way to achieve higher true positives and fewer false positives is to create a model that results in an ROC curve above and to the left, which is shown in panel on the right. This model achieved a true positive rate of .85 with only a .10 false positive rate.</p>

</div>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-smotefamily" class="csl-entry">
SMOTE. 2019. <span>“A Collection of Oversampling Techniques for Class Imbalance Problem Based on SMOTE.”</span> https://cran.r-project.org/web/packages/smotefamily/smotefamily.pdf.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="9">
<li id="fn9"><p>Some books and software reverse the names for the test and validation sets, labeling the second set the validation set and the third set the test.<a href="evaluating-predictive-models.html#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>In some software the rows and columns are exchanged so that the actual classifications are in the columns.<a href="evaluating-predictive-models.html#fnref10" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="principal-components-analytics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multiple-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["TextbookDraft.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
